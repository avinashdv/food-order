(this["webpackJsonpmutual-food"]=this["webpackJsonpmutual-food"]||[]).push([[0],[,,function(e,t,a){e.exports={item:"CartItem_item__2rZUi","item-changes":"CartItem_item-changes__3xAKy","item-about":"CartItem_item-about__1noQr","item-about-details":"CartItem_item-about-details__BJPs-",total:"CartItem_total__1heud",totalAmt:"CartItem_totalAmt__2kKvG","action-buttons":"CartItem_action-buttons__O7uLz",inactive:"CartItem_inactive__2F_Gs",active:"CartItem_active__3iB-X"}},,function(e,t,a){e.exports={mealItem:"MealItem_mealItem__2Lqmc",mealAbout:"MealItem_mealAbout__2RWuv",price:"MealItem_price__APK-g","meal-image":"MealItem_meal-image__29EG1","meal-details":"MealItem_meal-details__KTS2_"}},,function(e,t,a){e.exports={header:"Header_header__2E_ya",img:"Header_img__1a4lS",about:"Header_about__2B4YV",organicImg:"Header_organicImg__2cHO8"}},,function(e,t,a){e.exports={cart:"Cart_cart__1WVSp",cartAnimation:"Cart_cartAnimation__3TMry",bubble:"Cart_bubble__36KtT"}},function(e,t,a){e.exports={overlay:"Modal_overlay__21Nh8",modal:"Modal_modal__16gGP",additionalContent:"Modal_additionalContent__3BJTX"}},,function(e,t,a){e.exports={availableMeals:"AvailableMeals_availableMeals__2kSvr"}},function(e,t,a){e.exports={card:"Card_card__3RwZh"}},function(e,t,a){e.exports={addBtn:"MealInput_addBtn__3SnJF"}},function(e,t,a){e.exports={form:"Input_form__1wk09"}},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(5),i=a.n(c),o=(a(19),a(7)),s=a(6),d=a.n(s),l=a(8),u=a.n(l),m=a(3),b=a(0),j=r.a.createContext({availableMeals:[],allOrders:[],mealSubmitHandler:function(){},addOrderHandler:function(){},removeOrderHandler:function(){}}),O=[{id:"m1",name:"Mysore Bonda",price:25,about:"4 Hot and crispy Bonda",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTSvSu3GhZd77CJv2-wZ9P43JXTQXKg2ZcHPA&usqp=CAU"},{id:"m2",name:"Poori",price:30,about:"2 Hot and Indian Bread served with curry",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTuCv6T-U13kAfz1DdU0xiMIm6hRM3y73a4FQ&usqp=CAU"},{id:"m3",name:"Dosa",price:20,about:"1 Big round dosa",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMwqmSj1cmR8uPdtFw2CYNN5y-zmbiMXRnjw&usqp=CAU"},{id:"m4",name:"Idly",price:20,about:"4 round and white idly",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSPz-WOAMGdzmLdcXOTbJd4fzzwirx6b2hc3Q&usqp=CAU"}],_=function(e,t){if("ADD_ORDER"===t.type){var a=e.orders.find((function(e){return e.id===t.order.id}));if(a){var n;a.amount=parseInt(a.amount)+parseInt(t.order.amount);var r=(n=e.orders.map((function(e){return e.id===a.id?a:e}))).reduce((function(e,t){return e+t.price*t.amount}),0).toFixed(2);return{orders:n,totalAmount:r}}var c=O.find((function(e){return e.id===t.order.id})),i=e.orders.concat(Object(m.a)(Object(m.a)({},c),{},{amount:t.order.amount})),o=i.reduce((function(e,t){return e+t.price*t.amount}),0).toFixed(2);return{orders:i,totalAmount:o}}if("REMOVE_ORDER"===t.type){var s,d=e.orders.find((function(e){return e.id===t.orderId}));if(1===parseInt(d.amount)){var l=e.orders.filter((function(e){return e.id!==t.orderId}));return s=l.reduce((function(e,t){return e+t.price*t.amount}),0),{orders:l,totalAmount:s}}d.amount=parseInt(d.amount)-1;var u=e.orders.map((function(e){return e.id===d.id?d:e}));return s=u.reduce((function(e,t){return e+t.price*t.amount}),0),{orders:u,totalAmount:s}}return{orders:[],totalAmount:0}},p=function(e){var t=Object(n.useReducer)(_,{orders:[],totalAmount:0}),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(b.jsx)(j.Provider,{value:{availableMeals:O,allOrders:r,addOrderHandler:function(e){console.log(e),c({type:"ADD_ORDER",order:e})},removeOrderHandler:function(e){console.log(e),c({type:"REMOVE_ORDER",orderId:e.id})}},children:e.children})},h=j,f=function(e){var t=Object(n.useRef)(),a=Object(n.useContext)(h);return Object(n.useEffect)((function(){if(a.allOrders.orders.length){t.current.classList.add(u.a.cartAnimation);var e=setTimeout((function(){t.current.classList.remove(u.a.cartAnimation)}),300);return function(){clearTimeout(e)}}}),[a.allOrders]),Object(b.jsx)(r.a.Fragment,{children:Object(b.jsxs)("div",{ref:t,className:u.a.cart,onClick:e.onCartOpen,children:[Object(b.jsx)("p",{children:"Your Cart"}),Object(b.jsx)("p",{children:a.allOrders.orders.length})]})})},x=function(e){return Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsxs)("div",{className:d.a.header,children:[Object(b.jsx)("h1",{children:"ReactOrganicMeals"}),Object(b.jsx)("img",{src:"https://www.pinclipart.com/picdir/middle/79-792502_leave-vector-single-png-transparent-download-organic-food.png",alt:"Leaf",className:d.a.organicImg}),Object(b.jsx)(f,{onCartOpen:e.onCartOpen})]}),Object(b.jsx)("div",{className:d.a.img,children:Object(b.jsx)("img",{src:"https://b.zmtcdn.com/data/pictures/chains/8/90038/ba0ace0f3ce2794fbd54cc762ea3de8f_o2_featured_v2.jpg",alt:"Delicious food on the table."})}),Object(b.jsxs)("div",{className:d.a.about,children:[Object(b.jsx)("h1",{children:"Delicious Food. Delivered To You."}),Object(b.jsx)("p",{children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Animi laudantium totam debitis officiis quia iste voluptates rerum aliquid quibusdam necessitatibus deleniti, aliquam atque voluptatibus incidunt recusandae neque vero. Ipsum, quas."})]})]})},v=a(11),g=a.n(v),C=a(12),A=a.n(C),I=function(e){var t="".concat(e.className," ").concat(A.a.card);return Object(b.jsx)("div",{className:t,children:e.children})},N=a(4),y=a.n(N),M=a(13),R=a.n(M),k=a(14),q=a.n(k),w=r.a.forwardRef((function(e,t){return Object(b.jsxs)("div",{className:q.a.form,children:[Object(b.jsx)("label",{htmlFor:e.data.label,children:e.data.label}),Object(b.jsx)("input",Object(m.a)(Object(m.a)({},e.data),{},{ref:t}))]})})),H=function(e){var t=Object(n.useRef)(),a=Object(n.useContext)(h);return Object(b.jsxs)("form",{onSubmit:function(n){n.preventDefault();var r=t.current.value;r&&a.addOrderHandler({id:e.id,amount:r})},children:[Object(b.jsx)(w,{data:{type:"number",min:"1",max:"5",step:"1",label:"Amount"},ref:t}),Object(b.jsx)("button",{className:R.a.addBtn,children:"Add"})]})},B=function(e){var t="\u20b9".concat(e.price.toFixed(2));return Object(b.jsxs)("div",{className:y.a.mealItem,children:[Object(b.jsxs)("div",{className:y.a.mealAbout,children:[Object(b.jsx)("div",{className:y.a["meal-image"],style:{background:"url(".concat(e.image,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),Object(b.jsxs)("div",{className:y.a["meal-details"],children:[Object(b.jsx)("h3",{children:e.name}),Object(b.jsx)("p",{children:e.about}),Object(b.jsx)("p",{className:y.a.price,children:t})]})]}),Object(b.jsx)(H,{id:e.id})]})},D=function(){var e=Object(n.useContext)(h).availableMeals.map((function(e){return Object(b.jsx)(B,{id:e.id,name:e.name,about:e.about,price:e.price,image:e.img},e.id)}));return Object(b.jsx)("div",{className:g.a.availableMeals,children:Object(b.jsx)(I,{children:e})})},E=a(2),F=a.n(E),T=a(9),P=a.n(T),S=function(e){return Object(b.jsx)("div",{className:P.a.overlay,onClick:e.onClick})},G=function(e){return Object(b.jsx)("div",{className:P.a.modal,children:Object(b.jsx)(I,{className:P.a.additionalContent,children:e.children})})},z=function(e){return Object(b.jsxs)(n.Fragment,{children:[i.a.createPortal(Object(b.jsx)(S,{onClick:e.onClose}),document.getElementById("backdrop")),i.a.createPortal(Object(b.jsx)(G,{onClick:e.onClose,children:e.children}),document.getElementById("overlay"))]})},J=function(e){var t=Object(n.useContext)(h),a=t.allOrders.orders.map((function(e){return Object(b.jsxs)("div",{className:F.a.item,children:[Object(b.jsxs)("div",{className:F.a["item-about"],children:[Object(b.jsx)("h3",{children:e.name}),Object(b.jsxs)("div",{className:F.a["item-about-details"],children:[Object(b.jsxs)("p",{children:["\u20b9 ",e.price]}),Object(b.jsxs)("p",{children:["x",e.amount]})]})]}),Object(b.jsxs)("div",{className:F.a["item-changes"],children:[Object(b.jsx)("button",{onClick:function(){var a;a=e.id,t.addOrderHandler({id:a,amount:1})},children:"+"}),Object(b.jsx)("button",{onClick:function(){var a;a=e.id,t.removeOrderHandler({id:a})},children:"-"})]})]},e.id)}));return Object(b.jsx)(r.a.Fragment,{children:Object(b.jsxs)(z,{onClose:e.onCartClose,children:[a,Object(b.jsxs)("div",{className:F.a.total,children:[Object(b.jsx)("h3",{children:"Total Amount:"}),Object(b.jsx)("span",{className:F.a.totalAmt,children:Object(b.jsxs)("h3",{children:["\u20b9",t.allOrders.totalAmount]})})]}),Object(b.jsxs)("div",{className:F.a["action-buttons"],children:[t.allOrders.orders.length>0?Object(b.jsx)("button",{className:F.a.active,children:"Order"}):"",Object(b.jsx)("button",{className:F.a.inactive,onClick:e.onCartClose,children:"Close"})]})]})})};var L=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(b.jsxs)(p,{children:[a&&Object(b.jsx)(J,{onCartClose:function(){r(!1)}}),Object(b.jsx)(x,{onCartOpen:function(){console.log("modal clicked"),r(!0)}}),Object(b.jsx)(D,{})]})};i.a.render(Object(b.jsx)(L,{}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.13a38411.chunk.js.map