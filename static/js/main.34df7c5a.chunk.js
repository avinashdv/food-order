(this["webpackJsonpmutual-food"]=this["webpackJsonpmutual-food"]||[]).push([[0],[,,function(e,t,a){e.exports={item:"CartItem_item__2rZUi","item-changes":"CartItem_item-changes__3xAKy","item-about":"CartItem_item-about__1noQr","item-about-details":"CartItem_item-about-details__BJPs-",total:"CartItem_total__1heud",totalAmt:"CartItem_totalAmt__2kKvG","action-buttons":"CartItem_action-buttons__O7uLz",inactive:"CartItem_inactive__2F_Gs",active:"CartItem_active__3iB-X"}},,,,function(e,t,a){e.exports={header:"Header_header__2E_ya",img:"Header_img__1a4lS",about:"Header_about__2B4YV"}},function(e,t,a){e.exports={cart:"Cart_cart__1WVSp",cartAnimation:"Cart_cartAnimation__3TMry",bubble:"Cart_bubble__36KtT"}},function(e,t,a){e.exports={mealItem:"MealItem_mealItem__2Lqmc",mealAbout:"MealItem_mealAbout__2RWuv",price:"MealItem_price__APK-g"}},function(e,t,a){e.exports={overlay:"Modal_overlay__21Nh8",modal:"Modal_modal__16gGP",additionalContent:"Modal_additionalContent__3BJTX"}},,function(e,t,a){e.exports={availableMeals:"AvailableMeals_availableMeals__2kSvr"}},function(e,t,a){e.exports={card:"Card_card__3RwZh"}},function(e,t,a){e.exports={addBtn:"MealInput_addBtn__3SnJF"}},function(e,t,a){e.exports={form:"Input_form__1wk09"}},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(4),i=a.n(c),o=(a(19),a(5)),d=a(6),s=a.n(d),l=a(7),u=a.n(l),m=a(3),j=a(0),b=r.a.createContext({availableMeals:[],allOrders:[],mealSubmitHandler:function(){},addOrderHandler:function(){},removeOrderHandler:function(){}}),O=[{id:"m1",name:"Mysore Bonda",price:25,about:"4 Hot and crispy Bonda"},{id:"m2",name:"Poori",price:30,about:"2 Hot and Indian Bread served with curry"},{id:"m3",name:"Dosa",price:20,about:"1 Big round dosa"},{id:"m4",name:"Idly",price:20,about:"4 round and white idly"}],_=function(e,t){if("ADD_ORDER"===t.type){var a=e.orders.find((function(e){return e.id===t.order.id}));if(a){var n;a.amount=parseInt(a.amount)+parseInt(t.order.amount);var r=(n=e.orders.map((function(e){return e.id===a.id?a:e}))).reduce((function(e,t){return e+t.price*t.amount}),0).toFixed(2);return{orders:n,totalAmount:r}}var c=O.find((function(e){return e.id===t.order.id})),i=e.orders.concat(Object(m.a)(Object(m.a)({},c),{},{amount:t.order.amount})),o=i.reduce((function(e,t){return e+t.price*t.amount}),0).toFixed(2);return{orders:i,totalAmount:o}}if("REMOVE_ORDER"===t.type){var d,s=e.orders.find((function(e){return e.id===t.orderId}));if(1===parseInt(s.amount)){var l=e.orders.filter((function(e){return e.id!==t.orderId}));return d=l.reduce((function(e,t){return e+t.price*t.amount}),0),{orders:l,totalAmount:d}}s.amount=parseInt(s.amount)-1;var u=e.orders.map((function(e){return e.id===s.id?s:e}));return d=u.reduce((function(e,t){return e+t.price*t.amount}),0),{orders:u,totalAmount:d}}return{orders:[],totalAmount:0}},f=function(e){var t=Object(n.useReducer)(_,{orders:[],totalAmount:0}),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(j.jsx)(b.Provider,{value:{availableMeals:O,allOrders:r,addOrderHandler:function(e){console.log(e),c({type:"ADD_ORDER",order:e})},removeOrderHandler:function(e){console.log(e),c({type:"REMOVE_ORDER",orderId:e.id})}},children:e.children})},x=b,h=function(e){var t=Object(n.useRef)(),a=Object(n.useContext)(x);return Object(n.useEffect)((function(){if(a.allOrders.orders.length){t.current.classList.add(u.a.cartAnimation);var e=setTimeout((function(){t.current.classList.remove(u.a.cartAnimation)}),300);return function(){clearTimeout(e)}}}),[a.allOrders]),Object(j.jsx)(r.a.Fragment,{children:Object(j.jsxs)("div",{ref:t,className:u.a.cart,onClick:e.onCartOpen,children:[Object(j.jsx)("p",{children:"Your Cart"}),Object(j.jsx)("p",{children:a.allOrders.orders.length})]})})},v=function(e){return Object(j.jsxs)(r.a.Fragment,{children:[Object(j.jsxs)("div",{className:s.a.header,children:[Object(j.jsx)("h1",{children:"ReactOrganicMeals"}),Object(j.jsx)(h,{onCartOpen:e.onCartOpen})]}),Object(j.jsx)("div",{className:s.a.img,children:Object(j.jsx)("img",{src:"https://b.zmtcdn.com/data/pictures/chains/8/90038/ba0ace0f3ce2794fbd54cc762ea3de8f_o2_featured_v2.jpg",alt:"Delicious food on the table."})}),Object(j.jsxs)("div",{className:s.a.about,children:[Object(j.jsx)("h1",{children:"Delicious Food. Delivered To You."}),Object(j.jsx)("p",{children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Animi laudantium totam debitis officiis quia iste voluptates rerum aliquid quibusdam necessitatibus deleniti, aliquam atque voluptatibus incidunt recusandae neque vero. Ipsum, quas."})]})]})},p=a(11),C=a.n(p),I=a(12),g=a.n(I),A=function(e){var t="".concat(e.className," ").concat(g.a.card);return Object(j.jsx)("div",{className:t,children:e.children})},N=a(8),y=a.n(N),M=a(13),R=a.n(M),k=a(14),B=a.n(k),D=r.a.forwardRef((function(e,t){return Object(j.jsxs)("div",{className:B.a.form,children:[Object(j.jsx)("label",{htmlFor:e.data.label,children:e.data.label}),Object(j.jsx)("input",Object(m.a)(Object(m.a)({},e.data),{},{ref:t}))]})})),E=function(e){var t=Object(n.useRef)(),a=Object(n.useContext)(x);return Object(j.jsxs)("form",{onSubmit:function(n){n.preventDefault();var r=t.current.value;r&&a.addOrderHandler({id:e.id,amount:r})},children:[Object(j.jsx)(D,{data:{type:"number",min:"1",max:"5",step:"1",label:"Amount"},ref:t}),Object(j.jsx)("button",{className:R.a.addBtn,children:"Add"})]})},H=function(e){var t="\u20b9".concat(e.price.toFixed(2));return Object(j.jsxs)("div",{className:y.a.mealItem,children:[Object(j.jsxs)("div",{className:y.a.mealAbout,children:[Object(j.jsx)("h3",{children:e.name}),Object(j.jsx)("p",{children:e.about}),Object(j.jsx)("p",{className:y.a.price,children:t})]}),Object(j.jsx)(E,{id:e.id})]})},F=function(){var e=Object(n.useContext)(x).availableMeals.map((function(e){return Object(j.jsx)(H,{id:e.id,name:e.name,about:e.about,price:e.price},e.id)}));return Object(j.jsx)("div",{className:C.a.availableMeals,children:Object(j.jsx)(A,{children:e})})},q=a(2),w=a.n(q),P=a(9),S=a.n(P),T=function(e){return Object(j.jsx)("div",{className:S.a.overlay,onClick:e.onClick})},J=function(e){return Object(j.jsx)("div",{className:S.a.modal,children:Object(j.jsx)(A,{className:S.a.additionalContent,children:e.children})})},L=function(e){return Object(j.jsxs)(n.Fragment,{children:[i.a.createPortal(Object(j.jsx)(T,{onClick:e.onClose}),document.getElementById("backdrop")),i.a.createPortal(Object(j.jsx)(J,{onClick:e.onClose,children:e.children}),document.getElementById("overlay"))]})},K=function(e){var t=Object(n.useContext)(x),a=t.allOrders.orders.map((function(e){return Object(j.jsxs)("div",{className:w.a.item,children:[Object(j.jsxs)("div",{className:w.a["item-about"],children:[Object(j.jsx)("h3",{children:e.name}),Object(j.jsxs)("div",{className:w.a["item-about-details"],children:[Object(j.jsxs)("p",{children:["\u20b9 ",e.price]}),Object(j.jsxs)("p",{children:["x",e.amount]})]})]}),Object(j.jsxs)("div",{className:w.a["item-changes"],children:[Object(j.jsx)("button",{onClick:function(){var a;a=e.id,t.addOrderHandler({id:a,amount:1})},children:"+"}),Object(j.jsx)("button",{onClick:function(){var a;a=e.id,t.removeOrderHandler({id:a})},children:"-"})]})]},e.id)}));return Object(j.jsx)(r.a.Fragment,{children:Object(j.jsxs)(L,{onClose:e.onCartClose,children:[a,Object(j.jsxs)("div",{className:w.a.total,children:[Object(j.jsx)("h3",{children:"Total Amount:"}),Object(j.jsx)("span",{className:w.a.totalAmt,children:Object(j.jsxs)("h3",{children:["\u20b9",t.allOrders.totalAmount]})})]}),Object(j.jsxs)("div",{className:w.a["action-buttons"],children:[t.allOrders.orders.length>0?Object(j.jsx)("button",{className:w.a.active,children:"Order"}):"",Object(j.jsx)("button",{className:w.a.inactive,onClick:e.onCartClose,children:"Close"})]})]})})};var V=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(j.jsxs)(f,{children:[a&&Object(j.jsx)(K,{onCartClose:function(){r(!1)}}),Object(j.jsx)(v,{onCartOpen:function(){console.log("modal clicked"),r(!0)}}),Object(j.jsx)(F,{})]})};i.a.render(Object(j.jsx)(V,{}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.34df7c5a.chunk.js.map